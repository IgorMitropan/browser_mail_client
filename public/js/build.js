var build=webpackJsonp_name_([0],[function(e,t,l){e.exports=l(1)},function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=l(2),i=l(3),s=n(i),a=l(4),r=n(a),c=l(6),u=n(c),d=l(8),m=n(d),p=l(11),f=n(p),h=l(13),b=n(h),g=l(15),v=n(g),$=l(17),_=n($),y=l(19),x=n(y),I=l(21),S=n(I),j=l(23),A=n(j),E=l(25),M=n(E),w=l(26),O=n(w),L=angular.module("mailApp",["ui.router","restangular","ui.bootstrap","ngMessages"]);L.config(s["default"]),L.config(["RestangularProvider",function(e){e.setBaseUrl(o.BASE_URL)}]),L.run(["$rootScope","$transitions",function(e,t){"ngInject";t.onSuccess({to:function(e){return e.requiresAuth}},["$state",function(t){e.$broadcast("stateWasChanged",t.current)}])}]),L.component("login",r["default"]),L.component("commonPage",u["default"]),L.component("mailBoxes",m["default"]),L.component("lettersList",f["default"]),L.component("contactList",b["default"]),L.component("contactDetails",v["default"]),L.component("dropDown",_["default"]),L.component("avatar",x["default"]),L.component("mailto",S["default"]),L.component("error404",A["default"]),L.service("AuthService",M["default"]),L.service("RestoreDBService",O["default"])},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.COMMON_STATE_CHILDREN=[{title:"Mail",state:"mail"},{title:"Contacts",state:"contacts"}],t.SELECTED_COMMON_STATE_CHILD_INDEX=0,t.SELECTED_MAILBOX_INDEX=0,t.USER_PROFILE={userName:"John Smith",photo:"img/profile.jpg",login:"john@test.com",password:"test"},t.BASE_URL="https://test-api.javascript.ru/v1/imytropan",t.TRASH_MAILBOX_INDEX=3,t.DB={letters:[{mailbox:"577106a66baa8d7d1bfe5dc6",subject:"job",body:"Lorem ipsum dolor sit amet, ex perpetua convenire est, mei primis atomorum ex, aliquando urbanitas persecuti ei duo.",to:"test@mail.com"},{mailbox:"577106a66baa8d7d1bfe5dc6",subject:"study",body:"Lorem ipsum dolor sit amet, ex perpetua convenire est, mei primis atomorum ex, aliquando urbanitas persecuti ei duo.",to:"test2@mail.com"},{mailbox:"577106c16baa8d7d1bfe5dc7",subject:"pizza",body:"Lorem ipsum dolor sit amet, ex perpetua convenire est, mei primis atomorum ex, aliquando urbanitas persecuti ei duo.",to:"test3@mail.com"},{mailbox:"577106c16baa8d7d1bfe5dc7",subject:"job4",body:"Lorem ipsum dolor sit amet, ex perpetua convenire est, mei primis atomorum ex, aliquando urbanitas persecuti ei duo.",to:"test4@mail.com"},{mailbox:"577106cc6baa8d7d1bfe5dc8",subject:"job5",body:"Lorem ipsum dolor sit amet, ex perpetua convenire est, mei primis atomorum ex, aliquando urbanitas persecuti ei duo.",to:"test5@mail.com"},{mailbox:"577106d46baa8d7d1bfe5dc9",subject:"job6",body:"Lorem ipsum dolor sit amet, ex perpetua convenire est, mei primis atomorum ex, aliquando urbanitas persecuti ei duo.",to:"test6@mail.com"},{mailbox:"577106d46baa8d7d1bfe5dc9",subject:"job7",body:"Lorem ipsum dolor sit amet, ex perpetua convenire est, mei primis atomorum ex, aliquando urbanitas persecuti ei duo.",to:"test6@mail.com"},{mailbox:"577106d46baa8d7d1bfe5dc9",subject:"job8",body:"Lorem ipsum dolor sit amet, ex perpetua convenire est, mei primis atomorum ex, aliquando urbanitas persecuti ei duo.",to:"test6@mail.com"},{mailbox:"577106df6baa8d7d1bfe5dca",subject:"job10",body:"Lorem ipsum dolor sit amet, ex perpetua convenire est, mei primis atomorum ex, aliquando urbanitas persecuti ei duo.",to:"test10@mail.com"},{mailbox:"577106df6baa8d7d1bfe5dca",subject:"job11",body:"Lorem ipsum dolor sit amet, ex perpetua convenire est, mei primis atomorum ex, aliquando urbanitas persecuti ei duo.",to:"test11@mail.com"}],users:[{fullName:"Натальина Наталья",avatarUrl:"https://randomuser.me/api/portraits/thumb/women/7.jpg",birthdate:"1990-07-03T00:00:00.000Z",gender:"F",address:"ул. Лермонтова, 59",email:"ivanov@mail.ru"},{fullName:"Петров Петр",avatarUrl:"https://randomuser.me/api/portraits/thumb/men/7.jpg",birthdate:"1957-01-14T00:00:00.000Z",gender:"M",address:"ул.Пушкинская, 13",email:"ivanov@mail.ru"},{fullName:"Иванов Иван",avatarUrl:"https://randomuser.me/api/portraits/thumb/men/57.jpg",birthdate:"1976-10-10T00:00:00.000Z",gender:"M",address:"ул. Звенигородская, 47б",email:"ivanov@mail.ru"}]}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=["$urlRouterProvider","$transitionsProvider","$stateProvider",function(e,t,l){"ngInject";e.when("","/login"),e.when("/common","/common/mail/letters"),e.when("/common/mail","/common/mail/letters"),e.otherwise("404"),t.onBefore({to:function(e){return!!e["abstract"]}},["$transition$","$state",function(e,t){if(angular.isString(e.to()["abstract"]))return t.target(e.to()["abstract"])}]),t.onStart({to:function(e){return e.requiresAuth}},["AuthService","$state",function(e,t){if(!e.checkAuth)return t.target("login")}]),l.state("login",{url:"/login",template:"<login></login>",requiresAuth:!1}).state("common",{url:"/common","abstract":"mail",template:"<common-page></common-page>",requiresAuth:!0}).state("mail",{url:"/mail",parent:"common","abstract":"letters",template:'<mail-boxes \n                        mailboxes="mailboxes"\n                        selected-mailbox="$parent.$ctrl.selectedMailbox"\n                        select-all="$parent.$ctrl.selectAll"\n                        is-any-item-selected="$parent.$ctrl.isAnyItemSelected"\n                        search="$parent.$ctrl.search">\n                        </mail-boxes>',requiresAuth:!0,resolve:{mailboxes:["Restangular",function(e){return e.all("mailboxes").getList()}]},controller:["$scope","mailboxes",function(e,t){e.mailboxes=t}]}).state("letters",{url:"/letters",parent:"mail",template:'<letters-list \n                        letters="letters" \n                        mailbox-id="$parent.$ctrl.mailboxId"\n                        trash-box-id="$parent.$ctrl.trashBoxId"\n                        select-all="$parent.$ctrl.selectAll"\n                        is-any-item-selected="$parent.$ctrl.isAnyItemSelected"\n                        search="$parent.$ctrl.search">\n                        </letters-list>',requiresAuth:!0,resolve:{letters:["Restangular",function(e){return e.all("letters").getList()}]},controller:["$scope","letters",function(e,t){e.letters=t}]}).state("contacts",{url:"/contacts",parent:"common",template:'<contact-list\n                        contacts="contacts"\n                        select-all="$parent.$ctrl.selectAll"\n                        is-any-item-selected="$parent.$ctrl.isAnyItemSelected"\n                        search="$parent.$ctrl.search">\n                        </contact-list>',requiresAuth:!0,resolve:{contacts:["Restangular",function(e){return e.all("users").getList()}]},controller:["$scope","contacts",function(e,t){e.contacts=t}]}).state("contact",{url:"/contacts/:id",parent:"common",template:'<contact-details contact="contact"></contact-details>',requiresAuth:!0,resolve:{contact:["Restangular","$stateParams",function(e,t){return e.one("users",t.id).get()}]},controller:["$scope","contact",function(e,t){e.contact=t}]}).state("404",{url:"/404",template:"<error-404></error-404>",requiresAuth:!1})}]},function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){"ngInject";var l=this;this.login="",this.password="",this.signIn=function(){t.signIn(l.login,l.password),e.go("common")}}o.$inject=["$state","AuthService"],Object.defineProperty(t,"__esModule",{value:!0});var i=l(5),s=n(i);t["default"]={template:s["default"],controller:o}},function(e,t){e.exports='<div> <form class="form-signin login-form" name=loginForm ng-submit=$ctrl.signIn() novalidate> <h2 class="form-signin-heading login-title">Please sign in</h2> <div class=form-group ng-class="{ \'has-error\' : loginForm.email.$invalid && !loginForm.email.$pristine }"> <label for=inputEmail class=sr-only>Email address</label> <input type=email name=email id=inputEmail class=form-control placeholder="Email address" required="" autofocus="" ng-model=$ctrl.login> <div ng-messages=loginForm.email.$error> <div ng-message=email class="alert alert-danger">Enter a valid email.</div> </div> </div> <div class=form-group ng-class="{ \'has-error\' : loginForm.password.$invalid && !loginForm.password.$pristine }"> <label for=inputPassword class=sr-only>Password</label> <input type=password name=password id=inputPassword class=form-control placeholder=Password required="" ng-model=$ctrl.password ng-minlength=2 autofocus=""> <div ng-show=loginForm.password.$error.minlength class="alert alert-danger">Password is too short.</div> </div> <button class="btn btn-lg btn-primary btn-block" type=submit>Sign in</button> </form> </div>'},function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,l,n){"ngInject";var o=this;this.stateChildren=a.COMMON_STATE_CHILDREN,this.selectedStateChild=r,this.selectedMailbox=c;var i=l.authUser;this.userName=i.userName,this.photoUrl=i.photo,e.$on("stateWasChanged",function(t,l){"contact"===l.name?(e.$ctrl.isListShown=!1,e.$ctrl.isAnyItemSelected=!0):(e.$ctrl.isListShown=!0,e.$ctrl.isAnyItemSelected=!1),e.$ctrl.search="",e.$ctrl.selectAll=!1}),this.restoreTestDB=n.restoreDB,this.signOut=function(){c=a.SELECTED_MAILBOX_INDEX,l.signOut(),t.go("login")},this.refresh=function(){r=o.selectedStateChild,c=o.selectedMailbox,t.reload()},this["delete"]=function(){e.$broadcast("deleteSelectedItems")}}o.$inject=["$scope","$state","AuthService","RestoreDBService"],Object.defineProperty(t,"__esModule",{value:!0});var i=l(7),s=n(i),a=l(2),r=a.COMMON_STATE_CHILDREN[a.SELECTED_COMMON_STATE_CHILD_INDEX],c=a.SELECTED_MAILBOX_INDEX;t["default"]={template:s["default"],controller:o}},function(e,t){e.exports='<div class=container-fluid> <header class=row> <div class="logo col-sm-4"> <ul class="profile-icons list-inline pull-left"> <li> <img ng-src={{$ctrl.photoUrl}} class=img-circle> </li> <li>{{$ctrl.userName}}</li> </ul> </div> <div class="search-bar col-sm-5"> <div class="form-group has-feedback"> <input type=text class=form-control placeholder="Search for..." ng-model=$ctrl.search ng-model-options="{ debounce: 500 }"> <span class="glyphicon glyphicon-search form-control-feedback" aria-hidden=true></span> </div> </div> <div class="profile col-sm-3"> <button class="btn btn-info" title="Restore test DB" ng-click=$ctrl.restoreTestDB()> <span class="glyphicon glyphicon-cloud-upload"></span> </button> <a class="logout pull-right" ng-click=$ctrl.signOut()>Sign out <span class="glyphicon glyphicon-log-out"></span></a> </div> </header> <div class="control-bar row"> <div class=col-sm-2> <drop-down items=$ctrl.stateChildren choice=$ctrl.selectedStateChild></drop-down> </div> <div class="controls col-sm-10"> <ul class="control-list list-inline"> <li> <button class="btn btn-control" title=Refresh ng-click=$ctrl.refresh()> <span class="glyphicon glyphicon-repeat"></span> </button> </li> <li> <button class="btn btn-control" title="Select All" ng-if=$ctrl.isListShown> <input type=checkbox class=mail-select ng-model=$ctrl.selectAll ng-change=$ctrl.setSelection()> </button> </li> <li> <button class="btn btn-control" title=Delete ng-if=$ctrl.isAnyItemSelected ng-click=$ctrl.delete()> <span class="glyphicon glyphicon-trash"></span> </button> </li> </ul> </div> </div> </div> <div class="mail row"> <div ui-view>Loading...</div> </div>'},function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,l){"ngInject";var n=this;this.to="",this.subject="",this.body="",this.mailboxId=this.mailboxes[this.selectedMailbox]._id,this.choseMailbox=function(e){n.mailboxId=e._id;for(var t=0;t<n.mailboxes.length;t++)n.mailboxes[t]._id===n.mailboxId&&(n.selectedMailbox=t)},this.trashBoxId=this.mailboxes[3]._id,this.modalController=["$scope","$uibModalInstance",function(e,t){e.sendTo="",e.subject="",e.body="",e.cancel=function(){t.dismiss("cancel")},e.sendLetter=function(){var n={mailbox:"577106c16baa8d7d1bfe5dc7",subject:e.subject,body:e.body,to:e.sendTo};l.all("letters").post(n).then(function(){e.sendTo="",e.subject="",e.body="",t.close()})}}],this.openModal=function(){t.open({template:r["default"],controller:n.modalController})}}o.$inject=["$scope","$uibModal","Restangular"],Object.defineProperty(t,"__esModule",{value:!0});var i=l(9),s=n(i),a=l(10),r=n(a);l(2);t["default"]={template:s["default"],bindings:{mailboxes:"<",selectedMailbox:"=",selectAll:"=",isAnyItemSelected:"=",search:"<"},controller:o}},function(e,t){e.exports='<div class="sidebar col-sm-2"> <button class="compose btn btn-danger" ng-click=$ctrl.openModal()> Compose </button> <ul class="inbox-sections list-unstyled"> <li class=pending ng-repeat="mailbox in $ctrl.mailboxes" ng-class="{\'active\': mailbox._id === $ctrl.mailboxId}" ng-click=$ctrl.choseMailbox(mailbox)> {{mailbox.title}} </li> </ul> </div> <div ui-view></div>'},function(e,t){e.exports='<div class=modal-header> <form class=form-horizontal name=emailSendForm role=form novalidate ng-submit=sendLetter()> <div class=form-group ng-class="{ \'has-error\' : emailSendForm.email.$invalid && !emailSendForm.email.$pristine }"> <label for=email class="col-sm-2 control-label">To:</label> <div class=col-sm-10> <input type=email class=form-control id=email name=email placeholder="Email address" value="" ng-model=sendTo> <div ng-messages=emailSendForm.email.$error> <div ng-message=email class=alert-danger>Enter a valid email.</div> </div> </div> </div> <div class=form-group> <label for=name class="col-sm-2 control-label">Subject:</label> <div class=col-sm-10> <input type=text class=form-control id=name name=name placeholder="" value="" ng-model=subject> </div> </div> <div class=form-group> <label for=message class="col-sm-2 control-label">Message:</label> <div class=col-sm-10> <textarea class=form-control rows=4 name=message id=message ng-model=body></textarea> </div> </div> <div class=form-group> <div class="col-sm-10 col-sm-offset-2"> <input id=submit name=submit type=submit value=Send class="btn btn-primary"> <button class="btn btn-warning" ng-click=cancel()>Cancel</button> </div> </div> </form></div>'},function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,l,n,o){"ngInject";var i=this,s=this.letters,a=this.letters,r=function(l){t.$ctrl.letters=e("filter")(s,l,!0,"mailbox"),a=t.$ctrl.letters,i.selectAll=!1},c=function(l){t.$ctrl.letters=e("filter")(a,l)},u=function(e,t){for(var l=0;l<e.length;l++)if(e[l]._id===t)return l;return null};this.numberOfSelectedItems=0,t.$watch("$ctrl.mailboxId",r),t.$watch("$ctrl.selectAll",function(e){t.$ctrl.letters.forEach(function(t){return t.selected=e}),t.$ctrl.change()}),t.$watch("$ctrl.search",c),t.$on("deleteSelectedItems",function(){var e=[],l=t.$ctrl.letters.filter(function(e){return e.selected});i.mailboxId===i.trashBoxId?l.forEach(function(t){var l=u(s,t._id);s.splice(l,1),e.push(o.one("letters",t._id).remove())}):l.forEach(function(t){var l=u(s,t._id);s[l].mailbox=i.trashBoxId,s[l].selected=!1,e.push(o.one("letters",t._id).patch(s[l]))}),n.all(e).then(function(){r(i.mailboxId),i.change()})}),this.change=function(){var e=i.letters.filter(function(e){return e.selected}).length;e&&!i.numberOfSelectedItems&&(i.isAnyItemSelected=!0),!e&&i.numberOfSelectedItems&&(i.selectAll=!1,i.isAnyItemSelected=!1),e&&e===i.letters.length&&(i.selectAll=!0),i.numberOfSelectedItems=e}}o.$inject=["$filter","$scope","$state","$q","Restangular"],Object.defineProperty(t,"__esModule",{value:!0});var i=l(12),s=n(i);t["default"]={template:s["default"],bindings:{letters:"<",mailboxId:"<",trashBoxId:"<",selectAll:"=",isAnyItemSelected:"=",search:"<"},controller:o}},function(e,t){e.exports='<div class="inbox col-sm-10"> <ul class=list-unstyled> <li class="email-item row unread" ng-repeat="letter in $ctrl.letters"> <div class="people col-sm-3"> <ul class="mail-icons list-inline"> <li> <input type=checkbox class=mail-select ng-model=letter.selected ng-change=$ctrl.change()> </li> </ul> <span class="people-names pending"> {{letter.to}} </span> </div> <div class=message> <div class=clipper> <h3>{{letter.subject}}</h3> - <p>{{letter.body}}</p> </div> </div> </li> </ul> </div>'},function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,l,n){"ngInject";var o=this;this.contacts=e("orderBy")(this.contacts,"fullName");var i=this.contacts,s=function(e,t){for(var l=0;l<e.length;l++)if(e[l]._id===t)return l;return null},a=function(l){t.$ctrl.contacts=e("filter")(i,l,!1,"fullName")};this.numberOfSelectedItems=0,t.$watch("$ctrl.selectAll",function(e){t.$ctrl.contacts.forEach(function(t){return t.selected=e}),t.$ctrl.change()}),t.$watch("$ctrl.search",a),t.$on("deleteSelectedItems",function(){var e=[],r=t.$ctrl.contacts.filter(function(e){return e.selected});r.forEach(function(t){var l=s(i,t._id);i.splice(l,1),e.push(n.one("users",t._id).remove())}),l.all(e).then(function(){a(),o.change()})}),this.change=function(){var e=o.contacts.filter(function(e){return e.selected}).length;e&&!o.numberOfSelectedItems&&(o.isAnyItemSelected=!0),!e&&o.numberOfSelectedItems&&(o.selectAll=!1,o.isAnyItemSelected=!1),e&&e===o.contacts.length&&(o.selectAll=!0),o.numberOfSelectedItems=e}}o.$inject=["$filter","$scope","$q","Restangular"],Object.defineProperty(t,"__esModule",{value:!0});var i=l(14),s=n(i);t["default"]={template:s["default"],bindings:{contacts:"<",selectAll:"=",isAnyItemSelected:"=",search:"<"},controller:o}},function(e,t){e.exports='<div class=container> <div class=col-sm-8> <ul class=list-unstyled> <li ng-repeat="contact in $ctrl.contacts"> <ul class=list-inline> <li> <input type=checkbox class=mail-select ng-model=contact.selected ng-change=$ctrl.change()> </li> <li> <a ui-sref="contact({id: contact._id})"> <img class=img-circle ng-src={{contact.avatarUrl}} alt=Contact> </a> </li> <li> <h3>{{contact.fullName}}</h3> </li> </ul> </li> </ul> </div> </div>'},function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){"ngInject";this.contact.birthdate=e("date")(this.contact.birthdate,"dd.MM.yyyy"),this.contact.gender="M"===this.contact.gender?"male":"female"}o.$inject=["$filter"],Object.defineProperty(t,"__esModule",{value:!0});var i=l(16),s=n(i);t["default"]={template:s["default"],bindings:{contact:"<"},controller:o}},function(e,t){e.exports='<br> <div class="container-fluid col-sm-6 col-sm-offset-3"> <div class="panel panel-info"> <div class=panel-heading> <button class="btn btn-xs btn-primary pull-right" type=button ui-sref=contacts>Back</button> <h3 class=panel-title>{{$ctrl.contact.fullName}}</h3> </div> <div class=panel-body> <div class=row> <div class="col-md-3 col-lg-3" align=center> <avatar user=$ctrl.contact></avatar> </div> <div class="col-md-9 col-lg-9"> <table class="table table-user-information"> <tbody> <tr> <td>BirthDate</td> <td>{{$ctrl.contact.birthdate}}</td> </tr> <tr> <td>Gender</td> <td>{{$ctrl.contact.gender}}</td> </tr> <tr> <td>Address</td> <td>{{$ctrl.contact.address}}</td> </tr> <tr> <td>Email</td> <td> <mailto email=$ctrl.contact.email></mailto> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div>'},function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){"ngInject";var t=this;this.choice=this.choice||this.items[0],this.toggleDropdown=function(e){e.preventDefault(),e.stopPropagation()},this.appendToEl=angular.element(document.querySelector("#dropdown-long-content")),this.goToChoice=function(l){t.choice=l,l.state&&e.go(l.state)}}o.$inject=["$state"],Object.defineProperty(t,"__esModule",{value:!0});var i=l(18),s=n(i);t["default"]={template:s["default"],bindings:{items:"<",choice:"="},controller:o}},function(e,t){e.exports='<span uib-dropdown on-toggle=toggled(open)> <a href id=simple-dropdown uib-dropdown-toggle> <div class=menu> <div> {{$ctrl.choice.title || $ctrl.choice}} <span class=caret></span> </div> </div> </a> <ul class=dropdown-menu uib-dropdown-menu aria-labelledby=simple-dropdown> <li ng-repeat="choice in $ctrl.items"> <a ng-click=$ctrl.goToChoice(choice)>{{choice.title || choice}}</a> </li> </ul> </span>'},function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=l(20),i=n(o);t["default"]={template:i["default"],bindings:{user:"<"}}},function(e,t){e.exports='<div> <img ng-src="{{$ctrl.user.avatarUrl || \'http://psdexport.com/storage/avatars/default.png\'}}" class="media-object img-thumbnail"> </div>'},function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=l(22),i=n(o);t["default"]={template:i["default"],bindings:{email:"<"}}},function(e,t){e.exports="<a ng-href=mailto:{{$ctrl.email}}>mailto:{{$ctrl.email}}</a>"},function(e,t,l){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){"ngInject";var t=e.getAuthUser();this.userName=t.userName,this.photoUrl=t.photo}o.$inject=["AuthService"],Object.defineProperty(t,"__esModule",{value:!0});var i=l(24),s=n(i);t["default"]={template:s["default"]}},function(e,t){e.exports="<h1> Error 404</h1> <h2>This Page is not found!</h2> <br> <h4><a ui-sref=common>Go to the main page>></a></h4>"},function(e,t,l){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var l=0;l<t.length;l++){var n=t[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,l,n){return l&&e(t.prototype,l),n&&e(t,n),t}}(),i=l(2),s=function(){function e(){n(this,e),this._isAuthorized=!1,this._authUser={userName:"",photo:""},this._USER_PROFILE=i.USER_PROFILE}return o(e,[{key:"signIn",value:function(e,t){this._isAuthorized=e===this._USER_PROFILE.login&&t===this._USER_PROFILE.password,this._authUser={userName:this._USER_PROFILE.userName,photo:this._USER_PROFILE.photo}}},{key:"signOut",value:function(){this._isAuthorized=!1,this._authUser={userName:"",photo:""}}},{key:"checkAuth",get:function(){return this._isAuthorized}},{key:"authUser",get:function(){return this._authUser}}]),e}();t["default"]=s},function(e,t,l){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var l=0;l<t.length;l++){var n=t[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,l,n){return l&&e(t.prototype,l),n&&e(t,n),t}}(),i=l(2),s=function(){function e(t){"ngInject";n(this,e),this._DB=i.DB,this._Restangular=t,this.restoreDB=this.restoreDB.bind(this)}return e.$inject=["Restangular"],o(e,[{key:"restoreDB",value:function(){var e=this;this._Restangular.all("users").getList().then(function(t){var l=t.remove();e.DB.users.forEach(function(e){l.then(function(){return t.post(e)})})}),this._Restangular.all("letters").getList().then(function(t){var l=t.remove();e.DB.letters.forEach(function(e){l.then(function(){return t.post(e)})})})}},{key:"DB",get:function(){return this._DB}}]),e}();t["default"]=s}]);